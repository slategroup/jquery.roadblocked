(function(){(function(a){a.roadblocked=function(f,c){var g,b,h,e,d,i=this;this.el=f;this.$el=a(f);this.$el.data("roadblocked",this);this.init=function(){var o,k,j,m,l,n;i.options=a.extend({},a.roadblocked.defaults,c);jQuery.cookie("probe","landed");if(jQuery.cookie("probe")!=null){k=true}j=h(i.options.devices);if((l=i.options.devices[j])&&k&&(jQuery.cookie(""+i.options.campaignName)!=="done")){m=g();o=i.setContent(l);n=l.link;i.placeInterstitial(m,o,n,j);e(true)}return i};h=function(r){var o,j,m,q,n,k,l,p;n="";q=[];for(o in r){q.push(o)}m=navigator.userAgent.toLowerCase();k=function(s){if(m.indexOf(s)>-1){if(s==="android"){if(m.indexOf("mobile")>-1){return n=s}}else{return n=s}}};for(l=0,p=q.length;l<p;l++){j=q[l];k(j)}return n};this.placeInterstitial=function(k,n,m,l){var o,j;o=a("<div>",{id:"roadblocked-blackout"});o.css({"background-color":i.options.blackoutColor,opacity:i.options.blackoutOpacity,"-moz-opacity":i.options.blackoutOpacity,filter:"alpha(opacity="+(i.options.blackoutOpacity*100)+")",width:"100%",height:"100%",top:"0",left:"0",position:"fixed","z-index":"100",margin:"0",display:"block"});j=a("<div>",{id:"roadblocked-container","class":l});j.html("");j.css({top:"0",left:"0",height:"100%",width:"100%",position:"fixed","z-index":"101",margin:"0",display:"block",cursor:"pointer"});a("body").prepend(o);a("body").prepend(j);a("#roadblocked-container").prepend(k);if(i.options.dismissPlacement==="top"){a("#dismiss-bar").after(n)}else{if(i.options.dismissPlacement==="bottom"){a("#dismiss-bar").before(n)}else{a("#dismiss-bar").after(n)}}a("#dismiss-bar").click(function(){a("#roadblocked-container, #roadblocked-blackout").fadeOut("fast");return b()});return a("#inter-content").click(function(){if(m!=null){window.location=""+m;a("#roadblocked-container, #roadblocked-blackout").fadeOut("fast");return b()}})};g=function(){var l,j,k;l=i.options.dismissLabel;if(typeof l==="string"){j=(parseFloat(i.options.dismissLabelHeight)/100)*a(window).height();k=a("<div>",{id:"dismiss-bar"});k.css({height:j,width:"90%",margin:"0 auto","text-align":""+i.options.dismissLabelAlign,"background-image":"url('"+i.options.imgPath+"/"+i.options.dismissLabel+"')","background-position":""+i.options.dismissLabelAlign,"background-repeat":"no-repeat","background-size":"contain"});return k}else{if(typeof l==="object"){l.attr("id","dismiss-bar");l.show();return l}}};this.setContent=function(l){var j,k;if(l.img!=null){k=a("<div>",{id:"inter-content"});if(typeof i.options.dismissLabel==="string"){j=(100-parseFloat(i.options.dismissLabelHeight)).toString()+"%"}else{j="100%"}k.css({height:j,width:"100%","background-image":"url('"+i.options.imgPath+"/"+l.img+"')","background-position":"top","background-repeat":"no-repeat","background-size":"contain"});return k}else{if(l.selector!=null){l.selector.attr("id","inter-content");l.selector.show();return l.selector}}};e=function(k,j){if(k===true){return a("body").css("position","fixed")}};b=function(){return a("body").css("position","static")};d=function(j,l,k){return jQuery.cookie(""+l,"done",{expires:j,path:k})};this.isRetna=function(){var j;return(j=window.devicePixelRatio>1)!=null?j:{"true":false}};return this.init()};a.roadblocked.defaults={imgPath:"images",retnaPath:"images/retna",overlayBackgroundColor:"transparent",dismissLabelHeight:"7.5%",dismissLabelAlign:"center",dismissPlacement:"top",lifetime:0,path:"/",campaignName:"jqueryRoadblocked"};a.fn.roadblocked=function(b){return a.each(this,function(d,e){var c;c=a(e);if(!c.data("roadblocked")){return c.data("roadblocked",new a.roadblocked(e,b))}})};return})(jQuery)}).call(this);